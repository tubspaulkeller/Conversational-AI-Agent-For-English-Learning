version: "3.0"

intents:

  - i_dp1_q0:
      use_entities: e_dp1_q0
  - i_dp1_q1:
      use_entities: e_dp1_q1
  - i_dp1_q2:
      use_entities: e_dp1_q2
  - i_dp1_q3:
      use_entities: e_dp1_q3
  - i_dp1_evaluation:
      use_entities: e_dp1_evaluation
  - i_dp1_long_term_scenario:
      use_entities: e_dp1_long_term_scenario

entities:
  - e_dp1_q0
  - e_dp1_q1
  - e_dp1_q2 
  - e_dp1_q3
  - e_dp1_evaluation
  - e_dp1_long_term_scenario

slots:
  s_dp1_q0:  
    type: text
    mappings:
    - type: from_entity
      entity: e_dp1_q0

  s_dp1_q1:
    type: text
    mappings:
    - type: from_entity
      entity: e_dp1_q1

  s_dp1_q2:
    type: text
    mappings:
    - type: from_entity
      entity: e_dp1_q2

  s_dp1_q3:
    type: text
    mappings:
    - type: from_entity
      entity: e_dp1_q3

  s_dp1_evaluation:
    type: text
    mappings:
    - type: from_entity
      entity: e_dp1_evaluation

  s_dp1_end:
    type: text
    mappings:
    - type: custom

  s_dp1_long_term_scenario:
    type: text
    mappings:
    - type: from_entity
      entity: e_dp1_long_term_scenario

  s_dp1_call_next_dp:
    type: text
    mappings:
    - type: custom

    
responses:
  utter_ask_s_dp1_q0:
  - buttons:
    - payload: /i_dp1_q0{{"e_dp1_q0":"PLAY"}}
      title: Legen wir los! üéÆ
    text: Lass uns ein kurzes Quiz starten, damit wir dein neues Wissen festigen üòÅ

  utter_s_dp1_q1/msg: 
  - custom:
      blocks:
      - type: section 
        text:
          text: "Bei welchem der folgenden W√∂rter handelt es sich *nicht* um eine Simple-Past-Form?"
          type: mrkdwn

  utter_s_dp1_q1/button:
  - buttons:
    - payload: /i_dp1_q1{{"e_dp1_q1":"Went"}}
      title: Went

    - payload: /i_dp1_q1{{"e_dp1_q1":"Drank"}}
      title: Drank

    - payload: /i_dp1_q1{{"e_dp1_q1":"Sleep"}}
      title: Sleep

    - payload: /i_dp1_q1{{"e_dp1_q1":"Bought"}}
      title: Bought
    text: " "

  utter_ask_s_dp1_q2:
  - buttons:
    - payload: /i_dp1_q2{{"e_dp1_q2":"Sell"}}
      title: Sell

    - payload: /i_dp1_q2{{"e_dp1_q2":"Fought"}}
      title: Fought

    - payload: /i_dp1_q2{{"e_dp1_q2":"Run"}}
      title: Run

    - payload: /i_dp1_q2{{"e_dp1_q2":"Wash"}}
      title: Wash
    text: Welches der folgenden W√∂rter ist eine Simple Past-Form?
  
  utter_s_dp1_q3/msg: 
  - custom:
      blocks:
      - type: section 
        text:
          text: "Welches der folgenden W√∂rter ist *keine* Simple Past-Form? ü§î"
          type: mrkdwn

  utter_s_dp1_q3/button:
  - buttons:
    - payload: /i_dp1_q3{{"e_dp1_q3":"Visited"}}
      title: Visited

    - payload: /i_dp1_q3{{"e_dp1_q3":"Take"}}
      title: Take

    - payload: /i_dp1_q3{{"e_dp1_q3":"Ate"}}
      title: Ate

    - payload: /i_dp1_q3{{"e_dp1_q3":"Drove"}}
      title: Drove
    text: " "


  utter_ask_s_dp1_evaluation:
  - buttons:
    - payload: /i_dp1_evaluation{{"e_dp1_evaluation":"EVALUATION"}}
      title: Quiz Auswertung üìä
    text: " "

  utter_s_dp1_long_term_scenario:
  - buttons:
    - payload: /i_dp1_long_term_scenario{{"e_dp1_long_term_scenario":"LONG_TERM_SCENARIO"}}
      title: Langzeit Szenario erleben
    text: "Stell dir vor, du hast zwei Monate gelernt.."
actions: 
  - validate_dp1_form
  - action_ask_s_dp1_q1
  - action_ask_s_dp1_q3
  - action_ask_s_dp1_end
  - action_ask_s_dp1_call_next_dp
forms:
  dp1_form:
    required_slots:
    - s_dp1_q0
    - s_dp1_q1
    - s_dp1_q2
    - s_dp1_q3
    - s_dp1_evaluation
    - s_dp1_end
    - s_dp1_long_term_scenario
    - s_dp1_call_next_dp