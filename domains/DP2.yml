version: "3.0"
intents: 
  - i_dp2_q0:
     use_entities: e_dp2_q0
  - i_dp2_q1:
     use_entities: e_dp2_q1
  - i_dp2_q1_2:
     use_entities: e_dp2_q1_2
  - i_dp2_q2:
     use_entities: e_dp2_q2
  - i_dp2_q3:
     use_entities: e_dp2_q3
  - i_dp2_at_q1:
     use_entities: e_dp2_at_q1
  - i_dp2_at_q2:
     use_entities: e_dp2_at_q2
  - i_dp2_evaluation:
     use_entities: e_dp2_evaluation

entities:
- e_dp2_q0
- e_dp2_q1
- e_dp2_q1_2
- e_dp2_q2
- e_dp2_q3
- e_dp2_evaluation
- e_dp2_at_q1
- e_dp2_at_q2

slots:
  s_dp2_q0:
    type: text
    mappings:
    - type: from_entity
      entity: e_dp2_q0

  s_dp2_q1:
    type: text
    mappings:
    - type: from_entity
      entity: e_dp2_q1
    
  s_dp2_q1_2:
    type: text
    mappings:
    - type: from_entity
      entity: e_dp2_q1_2

  s_dp2_q2:
    type: text
    mappings:
    - type: from_entity
      entity: e_dp2_q2

  s_dp2_q3:
    type: text
    mappings:
    - type: from_entity
      entity: e_dp2_q3

  s_dp2_evaluation:
    type: text
    mappings:
    - type: from_entity
      entity: e_dp2_evaluation

  s_dp2_part_one_end:
    type: text
    mappings:
    - type: custom

  s_dp2_at_q1:
    type: text
    mappings:
    - type: from_entity
      entity: e_dp2_at_q1

  s_dp2_at_q2:
    type: list
    mappings:
    - type: from_entity
      entity: e_dp2_at_q2
      intent: i_dp2_at_q2
      not_intent: i_dp2_at_q1
  
  s_dp2_part_two_end:
    type: text
    mappings:
    - type: custom
    
responses:

  utter_ask_s_dp2_q0:
  - buttons:
    - payload: /i_dp2_q0{{"e_dp2_q0":"AFFIRM"}}
      title: Alles klar, das klingt gut! üòä
    text: Wie du wei√üt, habe ich den gleichen Studiengang wie du belegt. Ich bin allerdings schon im 4. Semester und wenn du magst, dann kann ich dir als dein Lern-Companion Tipps zu diesem Kurs geben und gemeinsam mit dir √ºben! üòÅ  

  utter_s_dp2_q1:
  - buttons:
    - payload: /i_dp2_q1{{"e_dp2_q1":"Zusammenfassung"}}
      title: Zusammenfassung

    - payload: /i_dp2_q1{{"e_dp2_q1":"Quiz"}}
      title: Quiz
    text: Soll ich dir eine kurze Zusammenfassung zum Present Perfect geben oder m√∂chtest du direkt das Quiz beginnen?

  utter_ask_s_dp2_q1_2:
  - buttons:
    - payload: /i_dp2_q1_2{{"e_dp2_q1_2":"START_QUIZ"}}
      title: Quiz  üéÆ
    text: "Starte das: "

  utter_correct_answer_qn:
  - text: Korrekt! üòä
  - text: Richtig! üéâ

  utter_wrong_answer:
  - text: Das war leider nicht richtig. Versuche dir die Bildung durch 'have/has' + 'dritte From des Verbs' vor Auge zu f√ºhren. Damit sollte es die erfahrungsgem√§√ü am einfachsten gelingen, das Present Perfect zu erkennen üëå
  
  utter_zusammenfassung:
  - custom:
      blocks:
      - type: section 
        text:
          type: mrkdwn
          text: " Gerne doch! üòä\n*Bildung:* 'have/has' + dritte Form des Verbs\n*Verwendung:*\n - Etwas hat in der Vergangenheit begonnen und dauert bis in die Gegenwart an\n - Etwas wurde in der Vergangenheit abgeschlossen, aber die Folgen reichen bis in die Gegenwart"
  
  utter_s_dp2_q2:
  - buttons:
    - payload: /i_dp2_q2{{"e_dp2_q2":"have played"}}
      title: have played

    - payload: /i_dp2_q2{{"e_dp2_q2":"jumped"}}
      title: jumped

    - payload: /i_dp2_q2{{"e_dp2_q2":"skip"}}
      title: skip

    - payload: /i_dp2_q2{{"e_dp2_q2":"return"}}
      title: return
    text: "(Frage 1 von 2): Bei welchem der folgenden W√∂rter handelt es sich um eine Present Perfect-Form? ü§î"

  
  utter_s_dp2_q3:
  - buttons:
    - payload: /i_dp2_q3{{"e_dp2_q3":"stole"}}
      title: stole

    - payload: /i_dp2_q3{{"e_dp2_q3":"swam"}}
      title: swam

    - payload: /i_dp2_q3{{"e_dp2_q3":"fought"}}
      title: fought

    - payload: /i_dp2_q3{{"e_dp2_q3":"have bought"}}
      title: have bought
    text: "(Frage 2 von 2): Welches der folgenden W√∂rter ist eine Present Perfect-Form? ü§î"

  utter_ask_s_dp2_evaluation:
  - buttons:
    - payload: /i_dp2_evaluation{{"e_dp2_evaluation":"EVALUATION"}}
      title: Quiz evaluation üìä
    text: " "
  
  utter_s_dp2_at_q1:
  - buttons:
    - payload: /i_dp2_at_q1{{"e_dp2_at_q1":"yes"}}
      title: Ja
    - payload: /i_dp2_at_q1{{"e_dp2_at_q1":"no"}}
      title: Nein
    text: "Die Klausuren der letzten Jahre bestanden zu einem Gro√üteil aus Anwendungsaufgaben. Wollen wir zusammen so eine Anwendungsaufgabe √ºben, damit du gut vorbereitet bist?"

  utter_s_dp2_at_q2:
  - custom:
      blocks:
      - type: section 
        text:
          type: mrkdwn
          text:  "Versuche bitte aus den folgenden W√∂rtern:\n *Braunschweig, She, since, live*\n einen Satz im *Present Perfect* zu formulieren:"

  
actions:
  - validate_dp2_application_tasks_form
  - validate_dp2_form
  - action_ask_s_dp2_q1
  - action_ask_s_dp2_q2
  - action_ask_s_dp2_q3
  - action_ask_s_dp2_at_q1
  - action_ask_s_dp2_at_q2
  - action_ask_s_dp2_part_two_end
  - action_ask_s_dp2_part_one_end



forms:
  dp2_form:
    required_slots:
    - s_dp2_q0
    - s_dp2_q1
    - s_dp2_q1_2
    - s_dp2_q2
    - s_dp2_q3
    - s_dp2_evaluation
    - s_dp2_part_one_end 

  dp2_application_tasks_form:
    required_slots:
    - s_dp2_at_q1 
    - s_dp2_at_q2 
    - s_dp2_part_two_end 


